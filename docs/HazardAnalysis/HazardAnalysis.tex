\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{adjustbox}
\usepackage{float}
\usepackage{enumerate}
\usepackage{multirow}
\usepackage{chngpage}
\usepackage{array}


\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Date1 & Name(s) & Description of changes\\
Date2 & Name(s) & Description of changes\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}
This document outlines the Hazard Analysis for the Farming Matters game. The Farming Matters game is an engaging way to collect authentic data to support the research study that focuses on whether or not people prefer probabilistic or deterministic information.

\wss{You can include your definition of what a hazard is here.}

\section{Scope and Purpose of Hazard Analysis}

\section{System Boundaries and Components}
The system will be divided into the following components:

\begin{enumerate}
    \item The application including both the frontend and backend consists of:
    \begin{enumerate}
        \item Authentication System
        \item Backend Server
        \item Database System
        \item User Interface
    \end{enumerate}
    \item The physical setup (computer, keyboard, mouse, laptop)
\end{enumerate}

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}

\section{Failure Mode and Effect Analysis}


%\wss{Include your FMEA table here}
\begin{table}[H]
    \caption{\bf FMEA Table}
    \begin{adjustbox}{width=\textwidth}
    \centering
    

    \begin{tabular}{|p{0.20\linewidth} | p{0.20\linewidth} | p{0.20\linewidth}|  p{0.20\linewidth}|  p{0.20\linewidth}|  p{0.07\linewidth}|  p{0.07\linewidth}| }
    \hline
         \textbf{Design Functions} & \textbf{Failure Modes} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Recommended Action} & \textbf{SR} & \textbf{Ref} \\
         \hline
         Database & Server can not fulfill all user requests & Can't store all user decisions, losing data necessary for the underlying research study & Too many people playing and making API requests at the same time & Ensure a queue-login system  is enforced, only allow a max amount of users to play the game\newline   & IR1 & H1-1\\
          & Database can not store any more data & Can not store any user decisions, losing data necessary for the underlying research study & Storage of database is full & Admin's can download all data (user decisions) from the database and delete the data on the database afterwards, hence creating additional storage. Admins could also increase database storage capacity   & IR2 & H1-2\\
          \hline
         Authentication & Unauthorized user is able to log into the game & Logged player decisions cannot be traced to an account/user \newline & Database authentication issue & Ensure only authorized user decisions are logged & ACR2, ACR3 & H2-1\\
         & Bots are able to play the game & Logged decisions are inauthentic and detrimental to the underlying research\newline & Attacker develops script to automate account creation and play game &  Ensure account creation includes captcha & SR1 & H2-2\\
         & Account sharing & Logged decisions do not reflect decision-making of one person and are detrimental to the underlying research\newline & The user shares their account login information with their peers & The user must accept the guidelines and rules before playing the game & IR4, IR5 & H2-3\\
         
           & User opening multiple sessions & Logged decisions from current and previous sessions may be overwritten and thus lose data & The user logs in multiple times on the same device or on multiple devices & The user must log out before creating a new session or the system will automatically log them out of the old sessions in order to create a new session & ACR4 & H2-4\\
         \hline
    \end{tabular}
    \end{adjustbox}
    \label{tab:my_label}
\end{table}

\newpage 
\begin{table}[H]
    \begin{adjustbox}{width=\textwidth}
    \centering

    \begin{tabular}{|p{0.20\linewidth} | p{0.20\linewidth} | p{0.20\linewidth}|  p{0.20\linewidth}|  p{0.20\linewidth}|  p{0.05\linewidth}|  p{0.07\linewidth}| }
    \hline
         \textbf{Design Functions} & \textbf{Failure Modes} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Recommended Action} & \textbf{SR} & \textbf{Ref} \\
         
        \hline
        
         Internet Connectivity 
         
         %&Cannot connect to the Internet
         %& User will not be able to access game & Hardware is having connectivity problems & Troubleshoot connectivity issues or change to hardware that has connection to the internet 
         %& test & H3-1\\
         
          & Loses internet connection during gameplay  & User loses all progress made during the current session prior to losing internet connection & Hardware is having connectivity problems & To save current progress, wait till internet access has been retrieved in order for the system to perform a automatic save. Otherwise, the game will resume at the most recent saved progress  & IR3 & H3-2\\
         \hline
        General & Host computer, Web browser or the tab crashes & User loses all progress made during the current session prior to closing application & Not enough computer resources available, significant host operating system crash, accidental close of web browser or tab \newline & Close unused applications and other web browser tabs that are unused on a host computer
        & IR1 & H4-1\\
        
        & Game is slow to respond to user input & User is effectively unable to play the game. & User's hardware is insufficient to run the game & Provide a specifications guide in the to inform users what minimum specifications are required to run the game & IR1 & H4-2\\
        
         \hline
    \end{tabular}
    \end{adjustbox}
    \label{tab:my_label}
\end{table}

\section{Safety and Security Requirements}
The following requirements includes requirements in the Software Specification Document. It also lists new requirements which will be added to the Software Specification Document and have been written in \textbf{bold}. 

\subsection{Security Requirements}
\begin{enumerate}[{SR}1. ]
    \item The system must not allow automation of creating accounts. 
    \item \textbf{The system will encrypt all user passwords with a sufficient encryption algorithm.}
\end{enumerate}
\subsection{Access Requirements}
\begin{enumerate}[{ACR}1. ]
    \item \textbf{The frontend system shall allow access to any public user.}
    \item \textbf {The backend system shall only allow unauthenticated access to login related functionality.}
    \item \textbf{The backend system shall only allow access to authenticated users for all other (non-login) functionality.}
    \item \textbf{The backend system shall allow only to up to one user to have one user logged-in session at any point and time.}
    
\end{enumerate}
\subsection{Integrity Requirements}
\begin{enumerate}[{IR}1. ]
    \item \textbf{The system will be able to handle all API requests in API\_RESPONSE\_TIME}
    \item \textbf{The system will be able to handle all database requests in DATABASE\_RESPONSE\_TIME}
    \item \textbf{The system will be able to handle unexpected loss of connection to the server}
    \item \textbf{The user shall agree to the terms and condition before using the application }
    \item \textbf{The system shall warn users regarding account sharing and how it will skew the data collection for research}
\end{enumerate}
\subsection{Privacy Requirements}
\begin{enumerate}[{PR}1.]
    \item \textbf{The system shall delete all user data if user decides to opt out of data collection}
    \item \textbf{The application only requires an email provided by the user}
\end{enumerate}

\subsection{Audit Requirements}
N/A
\subsection{Immunity Requirements}
N/A


\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\end{document}
